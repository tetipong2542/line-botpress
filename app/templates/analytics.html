{% extends "base.html" %}

{% block title %}‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô - ‡∏à‡∏î‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢{% endblock %}

{% block content %}
<div class="mobile-container">
    <!-- Header -->
    <div class="page-header">
        <div class="header-content">
            <h1>
                <i data-lucide="bar-chart-2"></i>
                ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
            </h1>
            <p class="subtitle">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</p>
        </div>
        <div class="analytics-actions">
            <a href="/analytics/advanced" class="btn-secondary">
                <i data-lucide="line-chart"></i>
                <span>‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á</span>
            </a>
            <button class="btn-secondary" id="btn-export">
                <i data-lucide="download"></i>
                <span>Export</span>
            </button>
        </div>
    </div>

    <!-- Period Selector -->
    <div class="period-selector">
        <button class="period-nav" id="prev-period">
            <i data-lucide="chevron-left"></i>
        </button>
        <div class="period-display">
            <span id="current-period">‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2026</span>
        </div>
        <button class="period-nav" id="next-period">
            <i data-lucide="chevron-right"></i>
        </button>
    </div>

    <!-- ===== OPTION 3: Simple Summary Dashboard ===== -->
    <div class="simple-summary-dashboard">
        <!-- Main 3 Cards: ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö | ‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î | ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ -->
        <div class="main-summary-cards">
            <div class="main-card income">
                <div class="main-card-icon">
                    <i data-lucide="trending-up"></i>
                </div>
                <div class="main-card-content">
                    <span class="main-card-label">‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö</span>
                    <span class="main-card-amount" id="total-income">‡∏ø0</span>
                </div>
            </div>

            <div class="main-card expense">
                <div class="main-card-icon">
                    <i data-lucide="trending-down"></i>
                </div>
                <div class="main-card-content">
                    <span class="main-card-label">‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                    <span class="main-card-amount" id="total-expense">‡∏ø0</span>
                    <span class="main-card-note" id="expense-note">(‡∏£‡∏ß‡∏°‡∏™‡∏¥‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠)</span>
                </div>
            </div>

            <div class="main-card balance" id="balance-card">
                <div class="main-card-icon">
                    <i data-lucide="wallet"></i>
                </div>
                <div class="main-card-content">
                    <span class="main-card-label">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</span>
                    <span class="main-card-amount" id="net-balance">‡∏ø0</span>
                    <span class="main-card-status" id="balance-status">üíö ‡∏î‡∏µ‡∏°‡∏≤‡∏Å!</span>
                </div>
            </div>
        </div>

        <!-- Expense Breakdown Detail -->
        <div class="expense-breakdown-card">
            <div class="breakdown-header">
                <i data-lucide="list"></i>
                <span>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</span>
            </div>
            <div class="breakdown-list">
                <div class="breakdown-item">
                    <div class="breakdown-left">
                        <span class="breakdown-dot regular"></span>
                        <span class="breakdown-name">‡∏õ‡∏Å‡∏ï‡∏¥</span>
                    </div>
                    <div class="breakdown-right">
                        <span class="breakdown-amount" id="expense-regular">‡∏ø0</span>
                        <span class="breakdown-percent" id="expense-regular-pct">(0%)</span>
                    </div>
                </div>
                <div class="breakdown-item">
                    <div class="breakdown-left">
                        <span class="breakdown-dot recurring"></span>
                        <span class="breakdown-name">‡∏õ‡∏£‡∏∞‡∏à‡∏≥</span>
                    </div>
                    <div class="breakdown-right">
                        <span class="breakdown-amount" id="expense-recurring">‡∏ø0</span>
                        <span class="breakdown-percent" id="expense-recurring-pct">(0%)</span>
                    </div>
                </div>
                <div class="breakdown-item loan">
                    <div class="breakdown-left">
                        <span class="breakdown-dot loan"></span>
                        <span class="breakdown-name">‡∏™‡∏¥‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠</span>
                        <span class="breakdown-badge" id="loan-installment">‡∏á‡∏ß‡∏î 0/0</span>
                    </div>
                    <div class="breakdown-right">
                        <span class="breakdown-amount" id="expense-loan">‡∏ø0</span>
                        <span class="breakdown-percent" id="expense-loan-pct">(0%)</span>
                    </div>
                </div>
                <div class="breakdown-divider"></div>
                <div class="breakdown-item total">
                    <div class="breakdown-left">
                        <span class="breakdown-name">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                    </div>
                    <div class="breakdown-right">
                        <span class="breakdown-amount" id="expense-total-detail">‡∏ø0</span>
                        <span class="breakdown-percent">(100%)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Charts Section -->
    <div class="section">
        <div class="section-header">
            <h2>
                <i data-lucide="pie-chart"></i>
                ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
            </h2>
        </div>
        <div class="chart-container" style="height: 300px;">
            <canvas id="categoryChart"></canvas>
        </div>
    </div>

    <!-- Top Categories -->
    <div class="section">
        <div class="section-header">
            <h2>
                <i data-lucide="layers"></i>
                ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            </h2>
        </div>
        <div id="top-categories-list" class="category-stats">
            <!-- Populated by analytics.js -->
        </div>
    </div>

    <!-- This Month's Scheduled Payments -->
    <div class="section" id="monthly-payments-section">
        <div class="section-header">
            <h2>
                <i data-lucide="calendar-check"></i>
                ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ
            </h2>
        </div>

        <!-- Payment List -->
        <div class="payment-list" id="monthly-payment-list">
            <!-- Populated by JavaScript -->
            <div class="loading-placeholder">
                <i data-lucide="loader" class="spinning"></i>
                <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
            </div>
        </div>
    </div>

    <!-- Bottom spacing -->
    <div class="footer-spacing"></div>
</div>

<!-- Sticky Footer Menu -->
{% set current_page = 'analytics' %}
{% include 'components/footer_menu.html' %}
{% endblock %}

{% block extra_js %}
<!-- Analytics JavaScript -->
<script src="{{ url_for('static', filename='js/analytics.js') }}"></script>
{% endblock %}